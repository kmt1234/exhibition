<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="exhibitionSQL">
 	<select id="searchRentDay" parameterType="java.util.Map" resultType="exhibition">
 		select * from exhibitionRental where boothName=#{boothName} and (#{startDate} between startDate and endDate or #{endDate} between startDate and endDate)
 	</select>
 	
 	<insert id="reservationHoll" parameterType="exhibition">
 		insert into exhibitionRental(boothName, C_license, C_tel, C_email, totalRent, code, title, startDate, endDate) values(#{boothName}, #{C_license}, #{C_tel}, #{C_email}, #{totalRent}, #{code}, #{title}, #{startDate}, #{endDate})
 	</insert>
 	
 	<select id="getCalendar" resultType="exhibition">
 		select boothName, C_license, C_tel, C_email, totalRent, code, title, startDate, endDate+1 endDate from exhibitionRental where boothName=#{booth}
 	</select>
 	<select id="getAllCalendar" resultType="exhibition">
 		select * from exhibitionRental
 	</select>
 	
 	<select id="getSalesExhibition" parameterType="java.lang.String" resultType="exhibition">
 		select sum(endDate-startDate+1) as saleDays, sum(totalrent) as totalRent, boothName from EXHIBITIONRENTAL where STARTDATE BETWEEN #{salesMon} and (select last_day(#{salesMon}) from dual) group by BOOTHNAME
 	</select>
 	
 	<select id="getSalesTotalRentExhibition" parameterType="java.lang.String" resultType="int">
 		select sum(totalrent) as salesTotalRent from EXHIBITIONRENTAL where STARTDATE BETWEEN #{salesMon} and (select last_day(#{salesMon}) from dual)
 	</select>
</mapper>